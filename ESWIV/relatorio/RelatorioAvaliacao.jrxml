<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="RelatorioAvaliacao" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="e13cbd8a-ae1a-4239-a6dc-60b2912262c7">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#FFBFBF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#FFBFBF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#FFEFEF"/>
		</conditionalStyle>
	</style>
	<style name="table 3">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_CH" mode="Opaque" backcolor="#FFBFBF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#FFEFEF"/>
		</conditionalStyle>
	</style>
	<style name="table 4">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_CH" mode="Opaque" backcolor="#FFBFBF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#FFEFEF"/>
		</conditionalStyle>
	</style>
	<subDataset name="DataSetDespesas" uuid="b4b2abe6-6a78-4825-bc33-166e0021600e">
		<parameter name="BEM" class="java.lang.Integer"/>
		<queryString language="SQL">
			<![CDATA[SELECT
     despesas."dt_despesa" AS despesas_dt_despesa,
     despesas."tx_descricao" AS despesas_tx_descricao,
     despesas."vl_valor" AS despesas_vl_valor
FROM
     "despesas" despesas]]>
		</queryString>
		<field name="despesas_dt_despesa" class="java.sql.Date"/>
		<field name="despesas_tx_descricao" class="java.lang.String"/>
		<field name="despesas_vl_valor" class="java.lang.Double"/>
		<variable name="SOMA" class="java.lang.Double">
			<variableExpression><![CDATA[$F{despesas_vl_valor}+$V{SOMA}]]></variableExpression>
			<initialValueExpression><![CDATA[0]]></initialValueExpression>
		</variable>
	</subDataset>
	<subDataset name="NewDataset" uuid="c852a49e-9547-4e1c-a663-7a38ae52e53c">
		<parameter name="BEM" class="java.lang.Integer"/>
		<queryString language="SQL">
			<![CDATA[SELECT
     calculo."tx_observacao" AS calculo_tx_observacao,
     calculo."dt_calculo" AS calculo_dt_calculo,
     calculo."vl_calculo" AS calculo_vl_calculo
FROM
     "calculo" calculo]]>
		</queryString>
		<field name="calculo_tx_observacao" class="java.lang.String"/>
		<field name="calculo_dt_calculo" class="java.sql.Date"/>
		<field name="calculo_vl_calculo" class="java.lang.Double"/>
	</subDataset>
	<parameter name="PROPRIETARIO" class="br.com.eswiv.modelo.Proprietario">
		<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
	</parameter>
	<parameter name="BEM" class="br.com.eswiv.modelo.Bem">
		<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
	</parameter>
	<parameter name="AND_BEM" class="java.lang.String">
		<defaultValueExpression><![CDATA[($P{BEM} == null ? " " : " bem.cp_bem = " + $P{BEM}.getCodigo())]]></defaultValueExpression>
	</parameter>
	<parameter name="AND_PROPRIETARIO" class="java.lang.String">
		<defaultValueExpression><![CDATA[($P{PROPRIETARIO} == null ? " " : " AND proprietario.cp_proprietario = " + $P{PROPRIETARIO}.getCodigo())]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT bem.cp_bem,
		proprietario.tx_nome,
        proprietario.cpf,
        proprietario.tx_bairro,
        proprietario.tx_nome AS Prop,
        proprietario.tx_logradouro,
        proprietario.tx_cep,
        proprietario.tx_telefone,
	proprietario.nr_numero,
        proprietario.cp_proprietario,
        cidades.tx_nome, cidades.tx_estado
FROM bem LEFT JOIN proprietario ON bem.ce_proprietario=proprietario.cp_proprietario
LEFT JOIN cidades ON proprietario.ce_cidade = cidades.cp_cidade
where $P!{AND_BEM}
      $P!{AND_PROPRIETARIO}]]>
	</queryString>
	<field name="cp_bem" class="java.lang.Integer"/>
	<field name="tx_nome" class="java.lang.String"/>
	<field name="cpf" class="java.lang.String"/>
	<field name="tx_bairro" class="java.lang.String"/>
	<field name="prop" class="java.lang.String"/>
	<field name="tx_logradouro" class="java.lang.String"/>
	<field name="tx_cep" class="java.lang.String"/>
	<field name="tx_telefone" class="java.lang.String"/>
	<field name="nr_numero" class="java.lang.String"/>
	<field name="cp_proprietario" class="java.lang.Integer"/>
	<field name="tx_estado" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="39" splitType="Stretch">
			<staticText>
				<reportElement uuid="b731758b-fa1c-4e03-8b0e-f4f3cbc37c24" x="247" y="0" width="308" height="39"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="28" isBold="true"/>
				</textElement>
				<text><![CDATA[Relatório de Avaliação]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="44" splitType="Stretch">
			<staticText>
				<reportElement uuid="ba1bd5f5-a0d0-460a-889f-c06afda4f2c9" x="0" y="0" width="52" height="14"/>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Nome:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="cbac0da5-31bd-4d4e-b478-3f77f7aa80d8" x="0" y="14" width="52" height="14"/>
				<textElement>
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<text><![CDATA[CPF:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c1de9c05-ae93-481a-af3d-1f27e770af67" x="0" y="28" width="52" height="15"/>
				<textElement>
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<text><![CDATA[Endereço:]]></text>
			</staticText>
			<line>
				<reportElement uuid="5b47f9ab-77f1-478b-8d3b-e1d245bbc8c5" x="0" y="43" width="555" height="1"/>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement uuid="eaf7e371-eed7-454e-a23f-89c556a0fa06" x="52" y="0" width="487" height="14"/>
				<textElement>
					<font fontName="Arial" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{prop}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="9694d6a8-6d22-483b-8f22-e7af87c1e0e7" x="52" y="14" width="249" height="14"/>
				<textElement>
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[br.com.util.Util.formatarCpf($F{cpf})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="6b872174-6879-415d-ae40-7a7c9086ef4b" x="52" y="28" width="487" height="14"/>
				<textElement>
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tx_logradouro} + ", " +
((((($F{nr_numero} == null? "":
$F{nr_numero}) + " - " + $F{tx_bairro})
+ " - " + $F{tx_nome})
+ " - " + $F{tx_estado})+" - "+"Fone: "+ $F{tx_telefone})]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="29" splitType="Stretch">
			<componentElement>
				<reportElement uuid="461b480f-4f14-4c9a-b62c-9156d22965a7" key="table 1" style="table 1" mode="Opaque" x="1" y="3" width="247" height="23" isRemoveLineWhenBlank="true" backcolor="#FFFFFF"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="DataSetDespesas" uuid="76a0d603-8706-4856-a591-92eb921e87af">
						<datasetParameter name="BEM">
							<datasetParameterExpression><![CDATA[$F{cp_bem}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="50e30517-9ba3-4502-af8d-51f3a7987656">
						<jr:tableHeader height="24" rowSpan="1"/>
						<jr:columnHeader style="table 1" height="14" rowSpan="1">
							<staticText>
								<reportElement uuid="b3727ecd-ad8b-4f19-ab34-7ad4de3d9975" x="0" y="0" width="90" height="14"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[DESCRIÇÃO]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell style="table 2" height="20" rowSpan="1">
							<textField isBlankWhenNull="true">
								<reportElement uuid="e95c9136-b06b-4f9c-a374-a88080b5a8b5" x="0" y="0" width="90" height="20"/>
								<textElement>
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{despesas_tx_descricao}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="42371844-6b53-46fd-8130-6f88c3c75f34">
						<jr:tableHeader height="24" rowSpan="1">
							<staticText>
								<reportElement uuid="b337be18-2fe8-446f-9ccf-b58cf19671d6" x="0" y="0" width="90" height="24"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[DESPESAS]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:tableFooter style="table 1" height="20" rowSpan="1">
							<staticText>
								<reportElement uuid="a881a57c-ca8e-4ebf-90cb-caae8bc32a8f" x="0" y="0" width="90" height="20"/>
								<textElement textAlignment="Right">
									<font fontName="Arial"/>
								</textElement>
								<text><![CDATA[Total:]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table 2" height="14" rowSpan="1">
							<staticText>
								<reportElement uuid="250de6b5-a96a-4074-ad9d-8ab628e29610" x="0" y="0" width="90" height="14"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[DATA]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell style="table 2" height="20" rowSpan="1">
							<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
								<reportElement uuid="0b7696d3-f6f2-4c82-90e5-4bb239e01f22" x="0" y="0" width="90" height="20"/>
								<textElement textAlignment="Center">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{despesas_dt_despesa}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="cf1a2535-d538-4221-8ed9-340600b6f01f">
						<jr:tableHeader height="24" rowSpan="1"/>
						<jr:tableFooter style="table 1" height="20" rowSpan="1">
							<textField pattern="###0.00;###0.00-">
								<reportElement uuid="4c9f5761-50f6-44b4-9b35-75e7a982811a" x="0" y="0" width="80" height="20"/>
								<textElement textAlignment="Right">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{SOMA}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table 2" height="14" rowSpan="1">
							<staticText>
								<reportElement uuid="30890ddd-3993-4cae-a101-a8da4c6d310a" x="0" y="0" width="90" height="14"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[VALOR]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell style="table 2" height="20" rowSpan="1">
							<textField pattern="###0.00;###0.00-" isBlankWhenNull="true">
								<reportElement uuid="fb2b8eac-d89b-4071-9473-43682cbc2385" x="0" y="0" width="80" height="20"/>
								<textElement textAlignment="Right">
									<font fontName="Arial" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{despesas_vl_valor}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement uuid="8b4ccb76-056f-447d-b9fb-50dca0ff0022" key="" style="table 2" x="276" y="3" width="263" height="23" isRemoveLineWhenBlank="true"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="NewDataset" uuid="f24629a5-9a11-4512-a87a-6609363dbb48">
						<datasetParameter name="BEM">
							<datasetParameterExpression><![CDATA[$F{cp_bem}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="547ea675-ccda-497c-adcc-cb32697228de">
						<jr:tableHeader height="16" rowSpan="1"/>
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:columnHeader style="table 2" height="15" rowSpan="1">
							<staticText>
								<reportElement uuid="86813f71-d017-49b7-b9f6-db83cdf382e1" x="0" y="0" width="90" height="15"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[OBSERVAÇÃO]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell height="20" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement uuid="e9ee3eb4-dfe4-46ae-b6d0-3f2193ba221c" style="table 2" x="0" y="0" width="90" height="20"/>
								<textElement>
									<font fontName="Arial" isBold="false"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{calculo_tx_observacao}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="105" uuid="8dc64aa0-5203-4eea-8b89-2f30c20e9dec">
						<jr:tableHeader height="16" rowSpan="1">
							<staticText>
								<reportElement uuid="7745ec5d-997b-4b2c-812f-f7d8a1fea338" x="0" y="0" width="105" height="16"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[DEPRECIAÇÕES]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:columnHeader style="table 2" height="15" rowSpan="1">
							<staticText>
								<reportElement uuid="dbcca0da-ba10-41d7-8ebd-79223f6fe5b7" x="0" y="0" width="105" height="15"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[DATA]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell style="table 2" height="20" rowSpan="1">
							<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
								<reportElement uuid="2fe5ee5e-d827-4c16-a382-4aa9b595c415" x="0" y="0" width="105" height="20"/>
								<textElement textAlignment="Center">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{calculo_dt_calculo}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="83" uuid="56db07c0-43a4-4966-9fd1-57829aba42ff">
						<jr:tableHeader height="16" rowSpan="1"/>
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:columnHeader style="table 2" height="15" rowSpan="1">
							<staticText>
								<reportElement uuid="d0076266-f705-47ee-871f-f1551de56e90" x="0" y="0" width="79" height="15"/>
								<textElement textAlignment="Center">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[VALOR]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell style="table 2" height="20" rowSpan="1">
							<textField pattern="###0.00;###0.00-" isBlankWhenNull="true">
								<reportElement uuid="e85b9c87-ba79-4e29-914a-9cb30cd005dd" x="0" y="0" width="79" height="20"/>
								<textElement textAlignment="Right">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{calculo_vl_calculo}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<pageFooter>
		<band height="15" splitType="Stretch">
			<textField pattern="EEEEE, dd &apos;de&apos; MMMMM &apos;de&apos; yyyy - H &apos;hrs e&apos; m &apos;min&apos;">
				<reportElement uuid="5bae94e8-f01c-44dd-ab10-cd905efe8e34" mode="Opaque" x="1" y="1" width="300" height="12"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="Arial" size="8" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="a7e3c4ae-665e-4efb-b3f6-75edcfc9896d" x="0" y="14" width="555" height="1"/>
			</line>
			<textField>
				<reportElement uuid="20d7db0c-5d79-4c9f-8328-f337d14c87e9" x="478" y="1" width="61" height="12"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Página "+$V{PAGE_NUMBER} + " de "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement uuid="095f4205-00de-4b76-908a-19f09574767e" x="539" y="1" width="15" height="12"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="52" splitType="Stretch">
			<staticText>
				<reportElement uuid="a4bbc602-dfda-4a2c-92bd-6c4b9f504a7f" x="1" y="14" width="554" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Teste]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
